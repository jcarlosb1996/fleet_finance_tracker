<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Vehicles</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h1>Vehicles</h1>
        <div>
          <a class="btn btn-primary" href="{% url 'vehicle_add' %}"
            >+ Add Vehicle</a
          >
          <a class="btn btn-link ms-2" href="{% url 'deposit_list' %}"
            >Deposits</a
          >
        </div>
      </div>

      {% if messages %} {% for m in messages %}
      <div class="alert alert-info">{{ m }}</div>
      {% endfor %} {% endif %}

      <table class="table table-bordered bg-white align-middle">
        <thead class="table-light">
          <tr>
            <th style="width: 120px">Photo</th>
            <th>Name</th>
            <th>Plate</th>
            <th>Partner</th>
            <th>Partner %</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          {% for v in vehicles %}
          <tr>
            <td>
              {% if v.image %}
              <img src="{{ v.image.url }}" style="width: 110px; height: auto" />
              {% else %}
              <span class="text-muted">No image</span>
              {% endif %}
            </td>
            <td>{{ v.name }}</td>
            <td>{{ v.plate|default:"—" }}</td>
            <td>{{ v.partner.name|default:"—" }}</td>
            <td>{{ v.partner_pct }}%</td>
            <td class="text-muted">{{ v.notes|default:"" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="text-center text-muted">No vehicles yet.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </body>
</html>
